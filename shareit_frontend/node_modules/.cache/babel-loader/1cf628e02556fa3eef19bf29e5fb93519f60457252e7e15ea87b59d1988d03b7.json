{"ast":null,"code":"import _slicedToArray from \"C:/Users/k546k/Desktop/\\uBA4B\\uC7C1\\uC774\\uC0AC\\uC790/\\uC250\\uC5B4\\uC787/shareit_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useRef, useEffect } from 'react';\nimport { useInstantLayoutTransition } from '../projection/use-instant-layout-transition.mjs';\nimport { useForceUpdate } from './use-force-update.mjs';\nimport { instantAnimationState } from './use-instant-transition-state.mjs';\nimport { frame } from '../frameloop/frame.mjs';\nfunction useInstantTransition() {\n  var _useForceUpdate = useForceUpdate(),\n    _useForceUpdate2 = _slicedToArray(_useForceUpdate, 2),\n    forceUpdate = _useForceUpdate2[0],\n    forcedRenderCount = _useForceUpdate2[1];\n  var startInstantLayoutTransition = useInstantLayoutTransition();\n  var unlockOnFrameRef = useRef();\n  useEffect(function () {\n    /**\r\n     * Unblock after two animation frames, otherwise this will unblock too soon.\r\n     */\n    frame.postRender(function () {\n      return frame.postRender(function () {\n        /**\r\n         * If the callback has been called again after the effect\r\n         * triggered this 2 frame delay, don't unblock animations. This\r\n         * prevents the previous effect from unblocking the current\r\n         * instant transition too soon. This becomes more likely when\r\n         * used in conjunction with React.startTransition().\r\n         */\n        if (forcedRenderCount !== unlockOnFrameRef.current) return;\n        instantAnimationState.current = false;\n      });\n    });\n  }, [forcedRenderCount]);\n  return function (callback) {\n    startInstantLayoutTransition(function () {\n      instantAnimationState.current = true;\n      forceUpdate();\n      callback();\n      unlockOnFrameRef.current = forcedRenderCount + 1;\n    });\n  };\n}\nexport { useInstantTransition };","map":{"version":3,"names":["useRef","useEffect","useInstantLayoutTransition","useForceUpdate","instantAnimationState","frame","useInstantTransition","_useForceUpdate","_useForceUpdate2","_slicedToArray","forceUpdate","forcedRenderCount","startInstantLayoutTransition","unlockOnFrameRef","postRender","current","callback"],"sources":["C:/Users/k546k/Desktop/멋쟁이사자/쉐어잇/shareit_frontend/node_modules/framer-motion/dist/es/utils/use-instant-transition.mjs"],"sourcesContent":["import { useRef, useEffect } from 'react';\r\nimport { useInstantLayoutTransition } from '../projection/use-instant-layout-transition.mjs';\r\nimport { useForceUpdate } from './use-force-update.mjs';\r\nimport { instantAnimationState } from './use-instant-transition-state.mjs';\r\nimport { frame } from '../frameloop/frame.mjs';\r\n\r\nfunction useInstantTransition() {\r\n    const [forceUpdate, forcedRenderCount] = useForceUpdate();\r\n    const startInstantLayoutTransition = useInstantLayoutTransition();\r\n    const unlockOnFrameRef = useRef();\r\n    useEffect(() => {\r\n        /**\r\n         * Unblock after two animation frames, otherwise this will unblock too soon.\r\n         */\r\n        frame.postRender(() => frame.postRender(() => {\r\n            /**\r\n             * If the callback has been called again after the effect\r\n             * triggered this 2 frame delay, don't unblock animations. This\r\n             * prevents the previous effect from unblocking the current\r\n             * instant transition too soon. This becomes more likely when\r\n             * used in conjunction with React.startTransition().\r\n             */\r\n            if (forcedRenderCount !== unlockOnFrameRef.current)\r\n                return;\r\n            instantAnimationState.current = false;\r\n        }));\r\n    }, [forcedRenderCount]);\r\n    return (callback) => {\r\n        startInstantLayoutTransition(() => {\r\n            instantAnimationState.current = true;\r\n            forceUpdate();\r\n            callback();\r\n            unlockOnFrameRef.current = forcedRenderCount + 1;\r\n        });\r\n    };\r\n}\r\n\r\nexport { useInstantTransition };\r\n"],"mappings":";AAAA,SAASA,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACzC,SAASC,0BAA0B,QAAQ,iDAAiD;AAC5F,SAASC,cAAc,QAAQ,wBAAwB;AACvD,SAASC,qBAAqB,QAAQ,oCAAoC;AAC1E,SAASC,KAAK,QAAQ,wBAAwB;AAE9C,SAASC,oBAAoBA,CAAA,EAAG;EAC5B,IAAAC,eAAA,GAAyCJ,cAAc,CAAC,CAAC;IAAAK,gBAAA,GAAAC,cAAA,CAAAF,eAAA;IAAlDG,WAAW,GAAAF,gBAAA;IAAEG,iBAAiB,GAAAH,gBAAA;EACrC,IAAMI,4BAA4B,GAAGV,0BAA0B,CAAC,CAAC;EACjE,IAAMW,gBAAgB,GAAGb,MAAM,CAAC,CAAC;EACjCC,SAAS,CAAC,YAAM;IACZ;AACR;AACA;IACQI,KAAK,CAACS,UAAU,CAAC;MAAA,OAAMT,KAAK,CAACS,UAAU,CAAC,YAAM;QAC1C;AACZ;AACA;AACA;AACA;AACA;AACA;QACY,IAAIH,iBAAiB,KAAKE,gBAAgB,CAACE,OAAO,EAC9C;QACJX,qBAAqB,CAACW,OAAO,GAAG,KAAK;MACzC,CAAC,CAAC;IAAA,EAAC;EACP,CAAC,EAAE,CAACJ,iBAAiB,CAAC,CAAC;EACvB,OAAO,UAACK,QAAQ,EAAK;IACjBJ,4BAA4B,CAAC,YAAM;MAC/BR,qBAAqB,CAACW,OAAO,GAAG,IAAI;MACpCL,WAAW,CAAC,CAAC;MACbM,QAAQ,CAAC,CAAC;MACVH,gBAAgB,CAACE,OAAO,GAAGJ,iBAAiB,GAAG,CAAC;IACpD,CAAC,CAAC;EACN,CAAC;AACL;AAEA,SAASL,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}