{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/Users/k546k/Desktop/\\uBA4B\\uC7C1\\uC774\\uC0AC\\uC790/\\uC250\\uC5B4\\uC787/shareit_frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _objectWithoutProperties from \"C:/Users/k546k/Desktop/\\uBA4B\\uC7C1\\uC774\\uC0AC\\uC790/\\uC250\\uC5B4\\uC787/shareit_frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"container\"];\nimport { resize } from '../resize/index.mjs';\nimport { createScrollInfo } from './info.mjs';\nimport { createOnScrollHandler } from './on-scroll-handler.mjs';\nimport { frame, cancelFrame, frameData } from '../../../frameloop/frame.mjs';\nvar scrollListeners = new WeakMap();\nvar resizeListeners = new WeakMap();\nvar onScrollHandlers = new WeakMap();\nvar getEventTarget = function getEventTarget(element) {\n  return element === document.documentElement ? window : element;\n};\nfunction scrollInfo(onScroll) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    _ref$container = _ref.container,\n    container = _ref$container === void 0 ? document.documentElement : _ref$container,\n    options = _objectWithoutProperties(_ref, _excluded);\n  var containerHandlers = onScrollHandlers.get(container);\n  /**\r\n   * Get the onScroll handlers for this container.\r\n   * If one isn't found, create a new one.\r\n   */\n  if (!containerHandlers) {\n    containerHandlers = new Set();\n    onScrollHandlers.set(container, containerHandlers);\n  }\n  /**\r\n   * Create a new onScroll handler for the provided callback.\r\n   */\n  var info = createScrollInfo();\n  var containerHandler = createOnScrollHandler(container, onScroll, info, options);\n  containerHandlers.add(containerHandler);\n  /**\r\n   * Check if there's a scroll event listener for this container.\r\n   * If not, create one.\r\n   */\n  if (!scrollListeners.has(container)) {\n    var measureAll = function measureAll() {\n      var _iterator = _createForOfIteratorHelper(containerHandlers),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var handler = _step.value;\n          handler.measure();\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    };\n    var updateAll = function updateAll() {\n      var _iterator2 = _createForOfIteratorHelper(containerHandlers),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var handler = _step2.value;\n          handler.update(frameData.timestamp);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    };\n    var notifyAll = function notifyAll() {\n      var _iterator3 = _createForOfIteratorHelper(containerHandlers),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var handler = _step3.value;\n          handler.notify();\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    };\n    var _listener = function _listener() {\n      frame.read(measureAll, false, true);\n      frame.update(updateAll, false, true);\n      frame.update(notifyAll, false, true);\n    };\n    scrollListeners.set(container, _listener);\n    var target = getEventTarget(container);\n    window.addEventListener(\"resize\", _listener, {\n      passive: true\n    });\n    if (container !== document.documentElement) {\n      resizeListeners.set(container, resize(container, _listener));\n    }\n    target.addEventListener(\"scroll\", _listener, {\n      passive: true\n    });\n  }\n  var listener = scrollListeners.get(container);\n  frame.read(listener, false, true);\n  return function () {\n    var _a;\n    cancelFrame(listener);\n    /**\r\n     * Check if we even have any handlers for this container.\r\n     */\n    var currentHandlers = onScrollHandlers.get(container);\n    if (!currentHandlers) return;\n    currentHandlers.delete(containerHandler);\n    if (currentHandlers.size) return;\n    /**\r\n     * If no more handlers, remove the scroll listener too.\r\n     */\n    var scrollListener = scrollListeners.get(container);\n    scrollListeners.delete(container);\n    if (scrollListener) {\n      getEventTarget(container).removeEventListener(\"scroll\", scrollListener);\n      (_a = resizeListeners.get(container)) === null || _a === void 0 ? void 0 : _a();\n      window.removeEventListener(\"resize\", scrollListener);\n    }\n  };\n}\nexport { scrollInfo };","map":{"version":3,"names":["resize","createScrollInfo","createOnScrollHandler","frame","cancelFrame","frameData","scrollListeners","WeakMap","resizeListeners","onScrollHandlers","getEventTarget","element","document","documentElement","window","scrollInfo","onScroll","_ref","arguments","length","undefined","_ref$container","container","options","_objectWithoutProperties","_excluded","containerHandlers","get","Set","set","info","containerHandler","add","has","measureAll","_iterator","_createForOfIteratorHelper","_step","s","n","done","handler","value","measure","err","e","f","updateAll","_iterator2","_step2","update","timestamp","notifyAll","_iterator3","_step3","notify","listener","read","target","addEventListener","passive","_a","currentHandlers","delete","size","scrollListener","removeEventListener"],"sources":["C:/Users/k546k/Desktop/멋쟁이사자/쉐어잇/shareit_frontend/node_modules/framer-motion/dist/es/render/dom/scroll/track.mjs"],"sourcesContent":["import { resize } from '../resize/index.mjs';\r\nimport { createScrollInfo } from './info.mjs';\r\nimport { createOnScrollHandler } from './on-scroll-handler.mjs';\r\nimport { frame, cancelFrame, frameData } from '../../../frameloop/frame.mjs';\r\n\r\nconst scrollListeners = new WeakMap();\r\nconst resizeListeners = new WeakMap();\r\nconst onScrollHandlers = new WeakMap();\r\nconst getEventTarget = (element) => element === document.documentElement ? window : element;\r\nfunction scrollInfo(onScroll, { container = document.documentElement, ...options } = {}) {\r\n    let containerHandlers = onScrollHandlers.get(container);\r\n    /**\r\n     * Get the onScroll handlers for this container.\r\n     * If one isn't found, create a new one.\r\n     */\r\n    if (!containerHandlers) {\r\n        containerHandlers = new Set();\r\n        onScrollHandlers.set(container, containerHandlers);\r\n    }\r\n    /**\r\n     * Create a new onScroll handler for the provided callback.\r\n     */\r\n    const info = createScrollInfo();\r\n    const containerHandler = createOnScrollHandler(container, onScroll, info, options);\r\n    containerHandlers.add(containerHandler);\r\n    /**\r\n     * Check if there's a scroll event listener for this container.\r\n     * If not, create one.\r\n     */\r\n    if (!scrollListeners.has(container)) {\r\n        const measureAll = () => {\r\n            for (const handler of containerHandlers)\r\n                handler.measure();\r\n        };\r\n        const updateAll = () => {\r\n            for (const handler of containerHandlers) {\r\n                handler.update(frameData.timestamp);\r\n            }\r\n        };\r\n        const notifyAll = () => {\r\n            for (const handler of containerHandlers)\r\n                handler.notify();\r\n        };\r\n        const listener = () => {\r\n            frame.read(measureAll, false, true);\r\n            frame.update(updateAll, false, true);\r\n            frame.update(notifyAll, false, true);\r\n        };\r\n        scrollListeners.set(container, listener);\r\n        const target = getEventTarget(container);\r\n        window.addEventListener(\"resize\", listener, { passive: true });\r\n        if (container !== document.documentElement) {\r\n            resizeListeners.set(container, resize(container, listener));\r\n        }\r\n        target.addEventListener(\"scroll\", listener, { passive: true });\r\n    }\r\n    const listener = scrollListeners.get(container);\r\n    frame.read(listener, false, true);\r\n    return () => {\r\n        var _a;\r\n        cancelFrame(listener);\r\n        /**\r\n         * Check if we even have any handlers for this container.\r\n         */\r\n        const currentHandlers = onScrollHandlers.get(container);\r\n        if (!currentHandlers)\r\n            return;\r\n        currentHandlers.delete(containerHandler);\r\n        if (currentHandlers.size)\r\n            return;\r\n        /**\r\n         * If no more handlers, remove the scroll listener too.\r\n         */\r\n        const scrollListener = scrollListeners.get(container);\r\n        scrollListeners.delete(container);\r\n        if (scrollListener) {\r\n            getEventTarget(container).removeEventListener(\"scroll\", scrollListener);\r\n            (_a = resizeListeners.get(container)) === null || _a === void 0 ? void 0 : _a();\r\n            window.removeEventListener(\"resize\", scrollListener);\r\n        }\r\n    };\r\n}\r\n\r\nexport { scrollInfo };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}